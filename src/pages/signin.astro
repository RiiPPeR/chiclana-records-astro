---
import Button from "../components/Button.astro";
import Layout from "../layouts/Layout.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
    return redirect("/dashboard")
}
---

<Layout title="Iniciar sesion">
    <h1>Iniciar sesion</h1>
    <p>Nuevo? <a href="/register">Crear una cuenta</a></p>
    <form action="/api/auth/signin" method="post" class="flex flex-col">
        <label for="email">Email</label>
        <input type="email" name="email" id="email" class="text-black"/>
        <label for="password">Password</label>
        <input type="password" name="password" id="password" class="text-black"/>
        
        <Button text="Iniciar sesion"/>
    </form>
</Layout>
